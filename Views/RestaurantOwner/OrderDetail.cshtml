@model FoodOrderingSystem.Models.ViewModels.OwnerOrderDetailViewModel
@{
    Layout = "~/Views/Shared/_LayoutRestaurant.cshtml";
}
<style>
	.detail-card {
		background: #fff;
		border: 1px solid #ddd;
		border-radius: 12px;
		padding: 18px;
		margin-bottom: 20px;
		box-shadow: 0 3px 10px rgba(0,0,0,0.07);
	}

	.detail-title {
		font-size: 18px;
		font-weight: 600;
		margin-bottom: 10px;
		color: #2c3e50;
	}

	.item-row {
		display: flex;
		justify-content: space-between;
		padding: 8px 0;
		border-bottom: 1px solid #eee;
	}

	.tracking-box {
		background: #f8f9ff;
		border-left: 4px solid #3b7ddd;
		padding: 12px;
		border-radius: 8px;
		margin-bottom: 12px;
	}

	.badge-status {
		padding: 6px 12px;
		border-radius: 8px;
		font-size: 13px;
		font-weight: 600;
		color: #fff;
	}

	.st-preparing {
		background: #f39c12;
	}

	.st-onway {
		background: #3498db;
	}

	.st-delivered {
		background: #2ecc71;
	}

	.st-cancelled {
		background: #e74c3c;
	}

    .btn-back {
        display: inline-block;
        padding: 10px 16px;
        background: #3498db;
        color: white;
        text-decoration: none;
        border-radius: 6px;
        font-size: 14px;
        margin-bottom: 15px;
        transition: 0.2s;
    }

        .btn-back:hover {
            background: #217dbb;
        }

</style>

<!--SİPARİŞLERİN DETAY SAYFASI BURDA-->
<h2 class="mb-4">📄 Order Detail (#@Model.Order.OrderId)</h2>

<a href="/RestaurantOwner/Orders" class="btn-back">← Back</a>

<!--  MÜŞTERİ BİLGİSİ -->
<div class="detail-card">
    <div class="detail-title">🧍 Customer Information</div>

    <p><strong>Name Surname:</strong> @Model.Order.User.FullName</p>
    <p><strong>Address:</strong> @Model.Order.User.Address</p>
    <p><strong>Order Date:</strong> @Model.Order.OrderDate.ToString("dd MMM yyyy HH:mm")</p>

    @{
        string statusClass = Model.Order.OrderStatusId switch
        {
            1 => "badge-status st-preparing",
            2 => "badge-status st-onway",
            3 => "badge-status st-delivered",
            4 => "badge-status st-cancelled",
            _ => ""
        };
    }

    <p><strong>Status:</strong> <span class="@statusClass">@Model.Order.OrderStatus.StatusName</span></p>

    <p><strong>Total Amount:</strong> @Model.Order.TotalAmount ₺</p>
</div>

<!--  SİPARİŞ ÜRÜNLERİ -->

<div class="detail-card">
    <div class="detail-title">🍟 Order Products</div>

    @foreach (var item in Model.Items)
    {
        <div class="item-row">
            <div>
                <strong>@item.Food.FoodName</strong><br />
                <small>Quantity: @item.Quantity</small>
            </div>

            <div>
                <strong>@item.Price ₺</strong>
            </div>
        </div>
    }
</div>


<!--  ÖDEME BİLGİSİ -->
<div class="detail-card">
    <div class="detail-title">💳 Payment Information</div>

    <p><strong>Method:</strong> @Model.Payment.PaymentMethod</p>
    <p><strong>Amount:</strong> @Model.Payment.Amount ₺</p>
    <p><strong>Status:</strong> @(Model.Payment.IsPaid ? "paid" : "cancel")</p>
    <p><strong>Date:</strong> @Model.Payment.PaymentDate.ToString("dd MMM yyyy HH:mm")</p>
</div>


<!--  SİPARİŞ GEÇMİŞİ / TRACKING -->

<div class="detail-card">
    <div class="detail-title">🚚 Order Tracking History</div>

    @foreach (var t in Model.Tracking)
    {
        <div class="tracking-box">
            <strong>@t.StatusName</strong><br />
            <small>@t.TrackingTime.ToString("dd MMM yyyy HH:mm")</small>
        </div>
    }
</div>
